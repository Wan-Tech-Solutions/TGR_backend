/* Mobile nav overlay fix so the hamburger menu sits above the hero/banner */
body.site-shell #header {
	position: relative;
	z-index: 2000;
}

@media (max-width: 991px) {
	body.site-shell #header {
		position: sticky;
		top: 0;
		z-index: 4000;
	}

	body.site-shell #header .header-row {
		position: relative;
		padding-left: 64px; /* leave space so the fixed hamburger does not sit on the logo */
		padding-right: 16px;
	}

	body.site-shell.menu-open {
		overflow: hidden;
		height: 100%;
	}

	body.site-shell #header .header-nav-main {
		position: relative;
		z-index: 4100;
		left: 0 !important;
		right: 0 !important;
		width: 100% !important;
		transform: none !important;
	}

	body.site-shell #header .header-btn-collapse-nav {
		position: fixed;
		left: 12px;
		top: 16px;
		z-index: 4200;
		background: #fff;
		border: 1px solid rgba(0,0,0,0.08);
		box-shadow: 0 6px 18px rgba(0,0,0,0.12);
		border-radius: 12px;
		padding: 10px 12px;
		color: #ef4444;
	}

	body.site-shell #header .header-logo {
		justify-content: center;
		margin-top: 4px;
	}

	body.site-shell #header .header-body,
	body.site-shell #header .header-container,
	body.site-shell #header .header-nav {
		overflow: visible;
	}

	body.site-shell #header .header-nav-main nav {
		position: fixed;
		top: calc(56px + env(safe-area-inset-top, 0px));
		left: 0 !important;
		right: auto !important;
		background: #fff;
		border-radius: 12px;
		box-shadow: 0 18px 40px rgba(0, 0, 0, 0.32);
		padding: 14px 16px;
		max-height: calc(100vh - 108px);
		width: 100vw !important;
		overflow-y: auto;
		-webkit-overflow-scrolling: touch;
		overscroll-behavior: contain;
		touch-action: pan-y;
		margin: 0 auto;
		transform: none !important;
	}

	body.site-shell #header .header-nav-main:before {
		left: 0 !important;
		right: 0 !important;
		width: 100vw !important;
		transform: none !important;
	}

	body.site-shell #header .header-nav-main nav > ul {
		margin: 0;
		padding: 0;
	}

	body.site-shell #header .header-nav-main nav > ul > li > a {
		color: #111827;
		display: block;
		padding: 10px 8px;
	}

	body.site-shell #header .header-nav-main nav > ul > li.dropdown > a.dropdown-toggle {
		position: relative;
		padding-right: 32px;
	}

	body.site-shell #header .header-nav-main nav > ul > li.dropdown > a.dropdown-toggle::after {
		content: "\f107";
		font-family: "Font Awesome 5 Free";
		font-weight: 900;
		position: absolute;
		right: 10px;
		top: 50%;
		transform: translateY(-50%);
		transition: transform 180ms ease;
		pointer-events: none;
	}

	body.site-shell #header .header-nav-main nav > ul > li.dropdown.open > a.dropdown-toggle::after {
		transform: translateY(-50%) rotate(180deg);
	}

	body.site-shell #header .header-nav-main nav > ul > li.dropdown .dropdown-menu {
		display: none;
		position: static;
		float: none;
		padding-left: 12px;
		margin: 4px 0;
		border: 0;
		box-shadow: none;
	}

	body.site-shell #header .header-nav-main nav > ul > li.dropdown .dropdown-menu.show {
		display: block;
	}

	/* Force full width when Bootstrap applies inline styles */
	body.site-shell #header .header-nav-main nav.collapse {
		width: 100vw !important;
		left: 0 !important;
		right: 0 !important;
		transform: none !important;
		margin: 0 !important;
	}

	body.site-shell #header .header-nav-main nav.collapse:not(.show) {
		display: none !important;
	}

	body.site-shell #header .header-nav-main nav.collapse.show {
		display: block;
	}
}

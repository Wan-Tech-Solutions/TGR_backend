# Inbox System Architecture Diagram

## System Overview Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TGR AFRICA ADMIN PORTAL                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   EMAIL COMPOSE    â”‚  â”‚   EMAIL TRACKING  â”‚
         â”‚   (Drafts)         â”‚  â”‚   (Outgoing)      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                    New: â†“
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚   INBOX        â”‚
                                â”‚   (Incoming)   â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Folder Structure (Gmail-like)

```
                           INBOX
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               â”‚               â”‚
         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
         â”‚ Unread  â”‚     â”‚ Read     â”‚    â”‚ Sent   â”‚
         â”‚ (Badge) â”‚     â”‚ (Badge)  â”‚    â”‚(Badge) â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚               â”‚
         Blue Highlight   Normal Style   Normal Style
         Bold Text        Gray Text      Gray Text
              â”‚               â”‚               â”‚
         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
         â”‚ Drafts  â”‚     â”‚ Starred â”‚    â”‚ Spam   â”‚
         â”‚ (Badge) â”‚     â”‚ (Badge) â”‚    â”‚(Badge) â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚               â”‚
         Yellow Badge    Gold Badge      Red Badge
              â”‚               â”‚               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                         â”‚  Trash  â”‚
                         â”‚ (Badge) â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                         Gray Badge
```

## Database Schema Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              incoming_emails Table                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: id                                               â”‚
â”‚ UK: uuid (indexed)                                   â”‚
â”‚ FK: user_id â†’ users.id                              â”‚
â”‚                                                      â”‚
â”‚ Core Fields:                                         â”‚
â”‚  - from_email (sender)                              â”‚
â”‚  - from_name (sender name)                          â”‚
â”‚  - to_email (recipient)                             â”‚
â”‚  - subject                                          â”‚
â”‚  - message (plain text)                             â”‚
â”‚  - html_message (HTML)                              â”‚
â”‚                                                      â”‚
â”‚ Status Fields (indexed):                            â”‚
â”‚  - status (inbox|sent|draft|trash|spam)             â”‚
â”‚  - is_read (boolean, indexed)                       â”‚
â”‚  - is_starred (boolean, indexed)                    â”‚
â”‚  - priority (low|normal|high)                       â”‚
â”‚                                                      â”‚
â”‚ Threading Fields (indexed):                         â”‚
â”‚  - message_id (unique)                              â”‚
â”‚  - thread_id (indexed)                              â”‚
â”‚                                                      â”‚
â”‚ Metadata:                                           â”‚
â”‚  - cc, bcc                                          â”‚
â”‚  - attachment_count                                 â”‚
â”‚  - received_at (indexed, timestamp)                 â”‚
â”‚  - read_at (timestamp)                              â”‚
â”‚  - created_at, updated_at                           â”‚
â”‚  - deleted_at (soft delete)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ has_many â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                        â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚              â”‚ email_attachments    â”‚
         â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚              â”‚ id                   â”‚
         â”‚              â”‚ uuid (unique)        â”‚
         â”‚              â”‚ filename             â”‚
         â”‚              â”‚ mime_type            â”‚
         â”‚              â”‚ size                 â”‚
         â”‚              â”‚ path (storage)       â”‚
         â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â†’ belongs_to_many â”€â”€â”€â”€â”
                                  â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ email_tag_mappings   â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                        â”‚ incoming_email_id FK â”‚
                        â”‚ email_tag_id FK      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”œâ”€â†’ email_tags
                                  â”‚   â”œâ”€â”€ id
                                  â”‚   â”œâ”€â”€ uuid
                                  â”‚   â”œâ”€â”€ user_id FK
                                  â”‚   â”œâ”€â”€ name
                                  â”‚   â”œâ”€â”€ color
                                  â”‚   â””â”€â”€ description
```

## Request/Response Flow

```
User Request
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                 â”‚
    â–¼                                                 â–¼
GET /admin-email-inbox                    POST /admin-email-inbox/{uuid}/mark-read
    â”‚                                                 â”‚
    â”œâ”€ Route Binding                                  â”œâ”€ Route Binding
    â”‚                                                 â”‚
    â–¼                                                 â–¼
AdminIncomingEmailController::index()      AdminIncomingEmailController::markAsRead()
    â”‚                                                 â”‚
    â”œâ”€ Get statistics                                 â”œâ”€ Find email by UUID
    â”‚  â”œâ”€ IncomingEmail::count()                      â”‚
    â”‚  â”œâ”€ IncomingEmail::inbox()->count()             â”œâ”€ Update email
    â”‚  â”œâ”€ IncomingEmail::read()->count()              â”‚  â””â”€ is_read = true
    â”‚  â”œâ”€ ... (all folders)                           â”‚     read_at = now()
    â”‚                                                 â”‚
    â”œâ”€ Apply filters                                  â”œâ”€ Audit log
    â”‚  â”œâ”€ By status (folder)                          â”‚
    â”‚  â”œâ”€ By search query                             â”œâ”€ Return redirect
    â”‚  â””â”€ Paginate (15/page)                          â”‚  â””â”€ with success message
    â”‚                                                 â”‚
    â”œâ”€ Load relationships                             â–¼
    â”‚  â””â”€ eager load data                    Response (redirect with message)
    â”‚                                                 â”‚
    â–¼                                                 â–¼
Return view('inbox')                       Redirect to referrer
    â”‚                                                 â”‚
    â”œâ”€ inbox.blade.php                                â””â”€ Browser back to inbox
    â”‚  â”œâ”€ Sidebar navigation                           â”‚
    â”‚  â”œâ”€ Statistics cards                             â”œâ”€ Email now marked read
    â”‚  â”œâ”€ Search bar                                   â”‚
    â”‚  â”œâ”€ Email list                                   â””â”€ UI updates
    â”‚  â”‚  â”œâ”€ Checkbox
    â”‚  â”‚  â”œâ”€ Star button
    â”‚  â”‚  â”œâ”€ Sender info
    â”‚  â”‚  â”œâ”€ Subject/preview
    â”‚  â”‚  â””â”€ Date/attachment icon
    â”‚  â””â”€ Pagination
    â”‚
    â–¼
Display to user
```

## Model Relationships Diagram

```
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚    User     â”‚
                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                       â”‚ id          â”‚
                       â”‚ name        â”‚
                       â”‚ email       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                         1 â”€â”€â”¤â”œâ”€ Many
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚     IncomingEmail           â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ id, uuid                    â”‚
                â”‚ user_id (FK) â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”
                â”‚ from_email                  â”‚
                â”‚ from_name                   â”‚
                â”‚ to_email                    â”‚
                â”‚ subject                     â”‚
                â”‚ message                     â”‚
                â”‚ html_message                â”‚
                â”‚ status                      â”‚
                â”‚ is_read                     â”‚
                â”‚ is_starred                  â”‚
                â”‚ priority                    â”‚
                â”‚ attachment_count            â”‚
                â”‚ ...                         â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    1 â”€â”€â”¤â”œâ”€ Many (has_many)
                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ EmailAttachment    â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ id, uuid           â”‚
                â”‚ incoming_email_id  â”‚
                â”‚ filename           â”‚
                â”‚ mime_type          â”‚
                â”‚ size               â”‚
                â”‚ path               â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                
                         â”‚
                    Many â”€â”¤â”œâ”€ Many (belongs_to_many)
                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ EmailTagMapping (Pivot)    â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ incoming_email_id (FK)     â”‚
                â”‚ email_tag_id (FK)          â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   EmailTag        â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ id, uuid           â”‚
                â”‚ user_id (FK)       â”‚
                â”‚ name               â”‚
                â”‚ color              â”‚
                â”‚ description        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Machine: Email Status Flow

```
                    New Email Received
                          â”‚
                          â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Inbox     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  (unread)    â”‚                  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                           â”‚                          â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
              â”‚            â”‚            â”‚             â”‚
              â–¼            â–¼            â–¼             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
         â”‚ Mark   â”‚   â”‚  Star  â”‚   â”‚ Spam   â”‚       â”‚
         â”‚ Read   â”‚   â”‚ (stays)â”‚   â”‚ (move) â”‚       â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜       â”‚
              â”‚            â”‚            â”‚            â”‚
              â–¼            â–¼            â–¼            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
         â”‚        Read Status               â”‚       â”‚
         â”‚  (or remains in Inbox/Starred)   â”‚       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                        â”‚                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
              â”‚         â”‚         â”‚                 â”‚
              â–¼         â–¼         â–¼                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
         â”‚ Trash  â”‚â”‚Keep in â”‚â”‚ Spam   â”‚             â”‚
         â”‚(recover)â”‚â”‚Inbox  â”‚â”‚(keep)  â”‚             â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
              â”‚         â”‚                           â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
              â”‚         â”‚                           â”‚
              â–¼         â–¼                           â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
         â”‚  Trash Folder    â”‚                      â”‚
         â”‚  (30 days)       â”‚                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                â”‚                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
        â”‚       â”‚       â”‚                          â”‚
        â–¼       â–¼       â–¼                          â”‚
     Restore  Delete  (auto-cleanup)              â”‚
        â”‚       â”‚                                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              (Permanent)
```

## User Interface Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin Portal - Inbox                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SIDEBAR   â”‚  â”‚           MAIN CONTENT AREA             â”‚ â”‚
â”‚  â”‚             â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  Breadcrumb Navigation                  â”‚ â”‚
â”‚  â”‚ â”‚Compose  â”‚ â”‚  â”‚  Inbox > Email Details                 â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚ Folders:    â”‚  â”‚  â”‚ Subject: Important Message        â”‚  â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚  â”‚ âœ“ Inbox [3] â”‚  â”‚  â”‚ From: John Doe <john@ex.com>     â”‚  â”‚ â”‚
â”‚  â”‚ âœ“ Read [5]  â”‚  â”‚  â”‚ To: admin@tgr.com                â”‚  â”‚ â”‚
â”‚  â”‚ âœ“ Sent [12] â”‚  â”‚  â”‚ Date: Nov 26, 2025               â”‚  â”‚ â”‚
â”‚  â”‚ âœ“ Drafts [1]â”‚  â”‚  â”‚ Priority: â†‘ High                 â”‚  â”‚ â”‚
â”‚  â”‚ âœ“ Starred[4]â”‚  â”‚  â”‚                                  â”‚  â”‚ â”‚
â”‚  â”‚ âœ“ Spam [2]  â”‚  â”‚  â”‚  [â˜…] [Reply] [Forward] [â‹®]      â”‚  â”‚ â”‚
â”‚  â”‚ âœ“ Trash [0] â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  â”‚                                   â”‚  â”‚ â”‚
â”‚  â”‚ Storage:    â”‚  â”‚  â”‚  Full email message content...   â”‚  â”‚ â”‚
â”‚  â”‚ â–°â–°â–°â–°â–°â–‘â–‘â–‘â–‘â–‘ â”‚  â”‚  â”‚  Lorem ipsum dolor sit amet...   â”‚  â”‚ â”‚
â”‚  â”‚ 35% of 15GB â”‚  â”‚  â”‚                                   â”‚  â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  â”‚ [ğŸ“] Attachments:               â”‚  â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  â”‚ â€¢ document.pdf (2.4 MB)          â”‚  â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  â”‚ â€¢ image.jpg (1.1 MB)             â”‚  â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚             â”‚  â”‚                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Email List View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Inbox (showing 3 unread of 8 total)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚ [â˜] [â˜…] From: John Doe         â”‚ Subject: Proposal         â”‚
â”‚     â†“     john@example.com       â”‚ Need your feedback on... â”‚
â”‚     Blue background (unread)     â”‚ Nov 26, 2025 [ğŸ“]        â”‚
â”‚                                                                â”‚
â”‚ [â˜] [â˜†] From: Jane Smith        â”‚ Subject: Thank You      â”‚
â”‚     â†“     jane@business.com      â”‚ Thanks for your help... â”‚
â”‚     Blue background (unread)     â”‚ Nov 25, 2025             â”‚
â”‚                                                                â”‚
â”‚ [â˜] [â˜†] From: Newsletter Bot    â”‚ Subject: Weekly Report â”‚
â”‚     â†“     newsletter@mail.com    â”‚ Here's your weekly s... â”‚
â”‚     Normal background (read)     â”‚ Nov 24, 2025             â”‚
â”‚                                                                â”‚
â”‚ [Pagination: 1 2 3 ... Next >]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Feature Matrix Grid

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Inbox Features                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Organization       â”‚  Management         â”‚  Intelligence       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ 7 Folders         â”‚ â€¢ Mark Read/Unread  â”‚ â€¢ Search            â”‚
â”‚ â€¢ Star/Favorites    â”‚ â€¢ Move to Trash     â”‚ â€¢ Filters           â”‚
â”‚ â€¢ Attachment track  â”‚ â€¢ Restore Emails    â”‚ â€¢ Sort by date      â”‚
â”‚ â€¢ Unread indicators â”‚ â€¢ Mark as Spam      â”‚ â€¢ Preview text      â”‚
â”‚ â€¢ Priority levels   â”‚ â€¢ Bulk operations   â”‚ â€¢ Status badges     â”‚
â”‚ â€¢ CC/BCC support    â”‚ â€¢ Empty Trash       â”‚ â€¢ Attachment icons  â”‚
â”‚ â€¢ Threading (ready) â”‚ â€¢ Permanent delete  â”‚ â€¢ User search       â”‚
â”‚ â€¢ Tags (ready)      â”‚                     â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance & Optimization

```
Database Optimization
    â”‚
    â”œâ”€ Indexes (6 total)
    â”‚  â”œâ”€ status (WHERE clause filtering)
    â”‚  â”œâ”€ is_read (unread queries)
    â”‚  â”œâ”€ is_starred (favorite queries)
    â”‚  â”œâ”€ received_at (sorting)
    â”‚  â”œâ”€ thread_id (grouping)
    â”‚  â””â”€ uuid (unique lookup)
    â”‚
    â”œâ”€ Query Optimization
    â”‚  â”œâ”€ Pagination (15/page)
    â”‚  â”œâ”€ Eager loading (relationships)
    â”‚  â”œâ”€ Scopes (reusable queries)
    â”‚  â””â”€ Select specific columns
    â”‚
    â””â”€ Data Optimization
       â”œâ”€ Soft deletes (no purge)
       â”œâ”€ Normalized schema
       â””â”€ Indexed foreign keys
```

---

**Complete system architecture ready for implementation and expansion!** ğŸš€

Last Updated: November 26, 2025
